{% extends "BenDoctorsBundle::layout.html.twig" %}
{% block title %}
Tableau de bord | {{ parent() }}
{% endblock %}
{% block body %}
<h3><span class="glyphicon glyphicon-user"></span> Ajout d'un examen medicale</h3>

<form action="{{ path('test_create', {type: type}) }}"  class="form-horizontal col-md-8" method="post">
      {{ form_widget(form) }} 

    <div class="form-group">
      <div class="col-sm-offset-6 col-sm-6">
        <button type="submit" name="subvalider" class="btn btn-primary"><span class="glyphicon glyphicon-edit"></span> Ajouter</button>
      </div>
    </div>
</form>
{% endblock %}
{% block javascripts %}
{{ parent() }}
<script> 
    (function($) {
        $('#ben_test_consultation').closest('.form-group').hide();
        $('select').removeClass('form-control').select2({minimumResultsForSearch: -1});

        var hasvisualissue = $('#ben_test_hasvisualissue'),
            fixedvisualissue = hasvisualissue.closest('.form-group').next().hide();
            fixedvisualissue.children('label').html('');
        
        if(hasvisualissue.is(":checked")){
            fixedvisualissue.show();
        }
        hasvisualissue.on('change', function(){
          if(hasvisualissue.is(":checked"))
            fixedvisualissue.show();
          else fixedvisualissue.hide();
        });

    })(jQuery);
</script>
{% endblock %}